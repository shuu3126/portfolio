<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
    <!-- SEO 基本 -->
    <title>CORO PROJECT | VTuber事務所公式サイト</title>
    <meta name="description" content="CORO PROJECTはVTuberの発掘・育成・配信支援を行うプロダクションです。最新ニュース、所属タレント情報、オーディションのご案内を掲載しています。">

    <!-- Canonical -->
    <link rel="canonical" href="https://coroproject.jp/">

    <!-- OGP -->
    <meta property="og:site_name" content="CORO PROJECT">
    <meta property="og:type" content="website">
    <meta property="og:title" content="CORO PROJECT | VTuber事務所公式サイト">
    <meta property="og:description" content="CORO PROJECTはVTuberの発掘・育成・配信支援を行うプロダクションです。最新ニュース、所属タレント情報、オーディションのご案内を掲載しています。">
    <meta property="og:url" content="https://coroproject.jp/">
    <meta property="og:image" content="https://coroproject.jp/images/ogp.png">

    <!-- Twitterカード -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="CORO PROJECT | VTuber事務所公式サイト">
    <meta name="twitter:description" content="CORO PROJECTはVTuberの発掘・育成・配信支援を行うプロダクションです。最新ニュース、所属タレント情報、オーディションのご案内を掲載しています。">
    <meta name="twitter:image" content="https://coroproject.jp/images/ogp.png">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="../css/styles.css">
  <!-- reCAPTCHA v2 -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <!-- ✅ ファビコン -->
  <link rel="icon" type="image/png" href="../images/logo.png">
  <link rel="apple-touch-icon" href="../images/logo.png">
</head>
<body>
  <div class="app visible">
    <!-- Header（indexと同テイスト） -->
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="../index.html">
          <img src="../images/toukalogo.png" alt="CORO PROJECT ロゴ" class="brand-logo">
          <span class="brand-text">CORO PROJECT</span>
        </a>
        <nav class="nav" aria-label="メインナビゲーション">
          <a href="../index.html#news">News</a>
          <a href="../index.html#talents">Talents</a>
          <a href="./audition.html">Audition</a>
          <a href="./privacy.html">Privacy</a>
        </nav>
      </div>
    </header>

    <!-- Hero-lite -->
    <section class="hero" style="min-height:38vh">
      <div class="hero-bg" aria-hidden="true"></div>
      <div class="container hero-inner">
        <h1 class="hero-title" style="font-size:clamp(28px,6vw,56px)">Contact</h1>
        <p class="hero-lead">出演・タイアップ、採用/オーディション、その他のお問い合わせは下記フォームから。</p>
      </div>
    </section>

    <!-- Contact Form -->
    <main class="section">
      <div class="container" style="max-width:880px">
        <form id="contactForm"
              class="contact-form"
              action="https://formspree.io/f/xkgyjayw"
              method="POST" novalidate>

          <!-- 成功後に thanks.html へ -->
          <input type="hidden" name="_redirect" value="./thanks.html">
          <!-- 自動返信/通知の件名 -->
          <input type="hidden" name="_subject" value="【CORO PROJECT】お問い合わせを受け付けました">
          <!-- 返信先（Reply-To） -->
          <input type="hidden" name="_replyto" id="_replyto">

          <!-- ハニーポット（ボット対策） -->
          <input type="text" name="_hp" id="hp" tabindex="-1" autocomplete="off" style="position:absolute; left:-9999px; opacity:0">

          <div class="form-grid">
            <label class="field">
              <span>お名前 <small style="color:#9ca3af">(必須)</small></span>
              <input type="text" name="name" id="name" placeholder="山田 太郎" required>
            </label>

            <label class="field">
              <span>メールアドレス <small style="color:#9ca3af">(必須)</small></span>
              <input type="email" name="email" id="email" placeholder="you@example.com" required>
            </label>
          </div>

          <div class="form-grid">
            <label class="field">
              <span>件名 <small style="color:#9ca3af">(必須)</small></span>
              <input type="text" name="subject" id="subject" placeholder="出演依頼について" required>
            </label>

            <label class="field">
              <span>カテゴリ</span>
              <select name="category" id="category">
                <option value="business">出演・タイアップ</option>
                <option value="recruit">採用/オーディション</option>
                <option value="inquiry">一般問い合わせ</option>
                <option value="other">その他</option>
              </select>
            </label>
          </div>

          <label class="field">
            <span>本文 <small style="color:#9ca3af">(必須)</small></span>
            <textarea name="message" id="message" rows="8" placeholder="ご用件・日程・ご予算など、可能な範囲でご記入ください。" required></textarea>
          </label>

          <!-- reCAPTCHA v2（※サイトキーはこのままでOKと言っていたので変更なし） -->
          <div class="g-recaptcha" data-sitekey="6LebErgrAAAAAEGD7EsN06C_MufQppvATd_C958R"></div>

          <p id="formStatus" class="form-error" aria-live="polite"></p>

          <label class="checkbox">
            <input type="checkbox" id="agree" required>
            <span><a href="./privacy.html" target="_blank" rel="noopener">プライバシーポリシー</a>に同意します（必須）</span>
          </label>

          <button class="btn btn-primary" type="submit">送信</button>

          <!-- 対応時間の明記 -->
          <div class="card" style="padding:14px; margin-top:16px">
            <strong>対応時間 / SLA</strong>
            <p class="footer-desc" style="margin:.4rem 0 0">
              営業時間：平日 11:00–19:00（JST）／
              <b>2営業日以内</b>にご返信いたします。<br>
              お急ぎの場合は件名に【至急】とご記載ください。
            </p>
          </div>
        </form>
      </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-col">
          <div class="brand brand--footer">
            <img src="../images/logo.png" alt="CORO PROJECT" class="footer-logo">
            <span class="brand-text">CORO PROJECT</span>
          </div>
          <p class="footer-desc">CORO PROJECTはVTuberのプロデュース・配信支援・クリエイティブ制作を行うプロダクションです。</p>
          <div class="footer-actions">
            <a class="btn btn-primary" href="./contact.html">問い合わせ</a>
          </div>
        </div>
        <div class="footer-col">
          <h4>Links</h4>
          <ul class="footer-links">
            <li><a href="./index.html#news">News</a></li>
            <li><a href="./index.html#talents">Talents</a></li>
            <li><a href="./audition.html">Audition</a></li>
            <li><a href="./privacy.html">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Social</h4>
          <ul class="footer-links">
            <li><a href="#">YouTube</a></li>
            <li><a href="#">X</a></li>
            <li><a href="#">Twitch</a></li>
          </ul>
        </div>
      </div>
      <div class="container footer-copy">
        <small>© <span id="year"></span> CORO PROJECT</small>
      </div>
    </footer>
  </div>

  <script>
    // 年号
    document.getElementById('year').textContent = new Date().getFullYear();

    // 送信処理（Formspree + reCAPTCHA + バリデーション）
    (function(){
      const form = document.getElementById('contactForm');
      const statusEl = document.getElementById('formStatus');
      if(!form) return;

      form.addEventListener('submit', async (e)=>{
        e.preventDefault();

        // ハニーポット
        if (document.getElementById('hp').value) return;

        // 必須チェック
        const requiredIds = ['name','email','subject','message','agree'];
        for(const id of requiredIds){
          const el = document.getElementById(id);
          if(!el || (el.type==='checkbox' ? !el.checked : !el.value.trim())){
            statusEl.textContent = '未入力の必須項目があります。';
            return;
          }
        }

        // reCAPTCHA チェック
        const recaptcha = window.grecaptcha && window.grecaptcha.getResponse();
        if(!recaptcha){
          statusEl.textContent = 'reCAPTCHA を完了してください。';
          return;
        }

        // 自動返信のReply-Toにユーザーのメールを反映
        document.getElementById('_replyto').value = document.getElementById('email').value;

        statusEl.textContent = '送信中…';

        try{
          const formData = new FormData(form);
          // reCAPTCHAトークンを送る（Formspreeは g-recaptcha-response を受け取る）
          formData.append('g-recaptcha-response', recaptcha);

          const res = await fetch(form.action, {
            method: form.method || 'POST',
            body: formData,
            headers: { 'Accept': 'application/json' }
          });

          if(res.ok){
            window.location.href = './thanks.html';
          }else{
            statusEl.textContent = '送信に失敗しました。時間をおいて再度お試しください。';
          }
        }catch{
          statusEl.textContent = '通信エラーが発生しました。しばらくしてからお試しください。';
        }
      });
    })();
  </script>
</body>
</html>
